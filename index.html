<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="noto-6">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>First Person Shooter</title>

    <!-- Font Awesome Icons -->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
          integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+TC&display=swap" rel="stylesheet">
    <!-- Plugin CSS -->
    <link href="vendor/magnific-popup/magnific-popup.css" rel="stylesheet">

    <!-- Theme CSS - Includes Bootstrap -->
    <link href="css/creative.min.css" rel="stylesheet">

    <!-- LinkedIn Profile Badge -->
    <script type="text/javascript" src="https://platform.linkedin.com/badges/js/profile.js" async defer></script>

    <!-- Prism -->
    <link href="css/prism.css" rel="stylesheet" />

</head>

<body id="page-top">

    <script src="js/prism.js"></script>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
        <div class="container">
            <a class="navbar-brand js-scroll-trigger" href="#page-top">First Person Shooter</a>
            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto my-2 my-lg-0">
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="#description">LocateCapturePoint Class</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="#contact">Contact Information</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Masthead -->
    <header class="masthead">
        <div class="container h-100">
            <div class="row h-100 align-items-center justify-content-center text-center">
                <div class="col-lg-10 align-self-end">
                    <h1 class="text-uppercase text-white font-weight-bold">First Person Shooter</h1>
                    <hr class="divider my-4">
                </div>
                <div class="col-lg-8 align-self-baseline">
                    <p class="text-white-75 font-weight-light mb-5">
                        C++ // Unreal Engine 4 // AI
                    </p>
                </div>
            </div>
        </div>
    </header>

    <!-- About Section -->
    <section class="page-section bg-primary" id="description">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8 text-center">
                    <h2 class="text-white mt-0">UBTT_LocateCapturePoint</h2>
                    <hr class="divider light my-4">
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-6">
                        <p align="center" class="text-white-50 mb-4 mt-4">
                            The game starts with the player on one side of the map, and the enemies on the other. 
                            The player must kill enemies and control the three capture points in order to earn points. 
                            Once either team reaches the point limit, they win the game. <br>
                            This class checks the distances between the enemy AI and the three capture points, in addition to whether or not the point has been captured. 
                            It then returns the closest point to the enemy which has not been captured.
                        </p>
                    </div>
                    <div class="col-lg-6">
                        <div class="embed-responsive embed-responsive-16by9">
                            <iframe class="embed-responsive-item mb-4" width="560" height="315" src="https://www.youtube-nocookie.com/embed/scO3EfyIwu4" frameborder="0" 
                                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
                <div class="container mt-4">
                    <pre><code class="language-cpp">

    UBTT_LocateCapturePoint::UBTT_LocateCapturePoint(const FObjectInitializer& ObjectInitializer) : Super(ObjectInitializer)
    {
        NodeName = "Locate Capture Point";
        bNotifyTick = true;
        BlackboardKey.AddVectorFilter(this, GET_MEMBER_NAME_CHECKED(UBTT_LocateCapturePoint, BlackboardKey));
    }

    EBTNodeResult::Type UBTT_LocateCapturePoint::ExecuteTask(UBehaviorTreeComponent& OwnerComp, uint8* NodeMemory)
    {
        // Gets the enemy executing this task
        AAIController* AIOwner = OwnerComp.GetAIOwner();
        APawn* enemyCharacter = AIOwner->GetPawn();
        float x = enemyCharacter->GetActorLocation().X;

        // Creates a TArray and fills it with the capture points on the map
        AConquerGameMode* gameMode = Cast&lt;AConquerGameMode&gt;
        (GetWorld()->GetAuthGameMode());
        TArray&lt;ACapturePoint*&gt;
        capturePoints = gameMode->GetCapturePoints();

        // Sets up variables used for calculating the closest capture point to the enemy
        FVector tempVector = FVector(0, 0, 0);
        float tempDistance = 0.0f;
        float smallestDistance = 1000000.0f;
        FVector closestPoint = capturePoints[0]->GetActorLocation();
        int capturePointNum = 0;

        // Iterates through the 3 capture points
        for (int i = 0; i < 3; i++)
        {
            // Gets the capture point's location
            tempVector = capturePoints[i]->GetTargetLocation();
            // Finds distance between the point and the enemy
            tempDistance = FVector::Distance(enemyCharacter->GetActorLocation(), tempVector);
            /* If the tempDistance is less than or equal to the current smallest distance and the point has not been captured,
            then make tempDistance the new smallest distance*/
            if (tempDistance <= smallestDistance && capturePoints[i]->GetEnemyCaptured() == false)
            {
                smallestDistance = tempDistance;
                closestPoint = tempVector;
                capturePointNum = i;
            }
        };
        // Returns the location of the closest capture point
        OwnerComp.GetBlackboardComponent()->SetValueAsVector(BlackboardKey.SelectedKeyName, closestPoint);

        return EBTNodeResult::Succeeded;
    }

    FString UBTT_LocateCapturePoint::GetStaticDescription() const
    {
        FString KeyDesc("Invalid");
        if (BlackboardKey.SelectedKeyType == UBlackboardKeyType_Vector::StaticClass())
        {
            KeyDesc = BlackboardKey.SelectedKeyName.ToString();
        }

        return FString::Printf(TEXT("%s: $S"), *Super::GetStaticDescription(), &KeyDesc);
    }

    void UBTT_LocateCapturePoint::OnGameplayTaskActivated(UGameplayTask& Task)
    {}
</code>
                </pre>
                </div>
            </div>
        </div>
    </section>



    <!-- Contact Section -->
    <section class="page-section" id="contact">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8 text-center">
                    <h2 class="mt-0">Get In Touch</h2>
                    <hr class="divider my-4">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6 mr-auto text-center">
                    <i class="fab fa-github fa-3x mb-3 text-muted"></i>
                    <!-- Make sure to change the email address in anchor text AND the link below! -->
                    <a class="d-block" href="https://github.com/LukeBaughan">GitHub Profile</a>
                </div>
                <div class="col-lg-6 mr-auto text-center">
                    <div class="LI-profile-badge" data-version="v1" data-size="large" data-locale="en_US" data-type="horizontal" data-theme="light" data-vanity="luke-baughan"><a class="LI-simple-link" href='https://uk.linkedin.com/in/luke-baughan?trk=profile-badge'>Luke Baughan</a></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-light py-5">
        <div class="container">
            <div class="small text-center text-muted">Copyright &copy; 2021 - Luke Baughan </div>
        </div>
    </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
    <script src="vendor/magnific-popup/jquery.magnific-popup.min.js"></script>

    <!-- Custom scripts for this template -->
    <script src="js/creative.min.js"></script>

</body>

</html>
